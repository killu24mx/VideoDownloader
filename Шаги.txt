https://rutube.ru/video/fec29d43e64a49c9246ab3e6f1ab0022/

fec29d43e64a49c9246ab3e6f1ab0022 - адрес видео

https://rutube.ru/api/play/options/fec29d43e64a49c9246ab3e6f1ab0022/?no_404=true -качаем json
из него ["video_balancer"]["default"] - получаем файл, из него берем путь до списка сегментов с нужным разрешением

#EXT-X-STREAM-INF:PROGRAM-ID=1, BANDWIDTH=4664000, FRAME-RATE=30, CODECS="avc1.640028, mp4a.40.2", RESOLUTION=1920x1080 https://river-5-516.rutube.ru/hls-vod/itxzBjhVHoY3XzZFNkQC1w/1724987852/2028/rutube-ds-origin-a112-3/e0731e9c3e854872a16329daa95a76c6.mp4.m3u8?i=1920x1080_4664

по адрессу качаем список сегментов

#EXTM3U
#EXT-X-TARGETDURATION:8
#EXT-X-ALLOW-CACHE:YES
#EXT-X-PLAYLIST-TYPE:VOD
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:1
#EXTINF:2.767,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-1-v1-a1.ts
#EXTINF:2.567,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-2-v1-a1.ts
#EXTINF:5.333,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-3-v1-a1.ts
#EXTINF:4.233,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-4-v1-a1.ts
#EXTINF:1.100,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-5-v1-a1.ts
#EXTINF:5.333,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-6-v1-a1.ts
#EXTINF:3.067,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-7-v1-a1.ts
#EXTINF:7.600,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-8-v1-a1.ts
#EXTINF:4.033,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-10-v1-a1.ts
#EXTINF:5.000,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-11-v1-a1.ts
#EXTINF:6.967,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-12-v1-a1.ts
#EXTINF:5.333,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-14-v1-a1.ts
#EXTINF:5.333,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-15-v1-a1.ts
#EXTINF:5.333,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-16-v1-a1.ts
#EXTINF:5.333,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-18-v1-a1.ts
#EXTINF:3.833,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-19-v1-a1.ts
#EXTINF:0.100,
e0731e9c3e854872a16329daa95a76c6.mp4/segment-20-v1-a1.ts
#EXT-X-ENDLIST



составляем адрес нужного сегмента:
SegmentInfo seginfo;

https://river-5-516.rutube.ru/hls-vod/itxzBjhVHoY3XzZFNkQC1w/1724987852/2028/rutube-ds-origin-a112-3/e0731e9c3e854872a16329daa95a76c6.mp4/segment-n-v1-a1.ts
адрес сегмента n
"e0731e9c3e854872a16329daa95a76c6"



